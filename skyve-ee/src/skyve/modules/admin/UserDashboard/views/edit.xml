<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<view title="{currentUser.contact.name}" name="edit" xmlns="http://www.skyve.org/xml/view"
	xsi:schemaLocation="http://www.skyve.org/xml/view ../../../../schemas/view.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<vbox border="true" borderTitle="Details">
		<hbox>
			<form percentageWidth="50">
				<column percentageWidth="30" />
				<column />
				<row>
					<item>
						<textField binding="currentUser.userName" disabled="true" />
					</item>
				</row>
				<row>
					<item>
						<textField binding="currentUser.contact.name" />
					</item>
				</row>
				<row>
					<item>
						<textField binding="currentUser.contact.email1" />
					</item>
				</row>
				<row>
					<item>
						<textField binding="currentUser.contact.mobile" />
					</item>
				</row>
				<row>
					<item>
						<textField binding="groupMembershipList" disabled="true" />
					</item>
				</row>
				<row>
					<item>
						<textField binding="lastLogin" disabled="true" editable="false" />
					</item>
				</row>
			</form>
			<form percentageWidth="50">
				<column percentageWidth="20" responsiveWidth="1" />
				<column />
				<row>
					<item>
						<spacer />
					</item>
					<item showLabel="false">
						<contentImage binding="currentUser.contact.image" pixelWidth="200" pixelHeight="200" />
					</item>
				</row>
			</form>
		</hbox>
		<hbox horizontalAlignment="centre">
			<form>
				<column/>
				<row>
					<item>
						<button actionName="UpdateMyDetails" pixelWidth="150" />
					</item>
				</row>
			</form>
			
		</hbox>
	</vbox>
	<hbox>
		<chart type="line">
			<model title="System Activity" label="Audits by time" moduleName="admin" documentName="Audit" categoryBinding="timestamp" valueBinding="bizId" valueFunction="Count">
				<temporalBucket type="dayMonthYear" />
				<order by="category" sort="ascending" />
			</model>
		</chart>
		<chart type="pie">
			<model title="Audits By Context" label="Numbers of Audits" moduleName="admin" documentName="Audit" categoryBinding="auditDocumentName" valueBinding="bizId"
				valueFunction="Count">
				<noBucket />
				<top sort="ascending" top="5" by="category" includeOthers="true" />
				<order by="category" sort="ascending" />
			</model>
		</chart>
	</hbox>
	<tabPane>
		<tab title="Jobs">
			<listGrid continueConversation="false" query="qDashboardJobs" disabled="true">
				<filterParameter operator="equal" name="bizUserId" binding="currentUser.bizId"/>
			</listGrid>
		</tab>
		<tab title="Subscriptions" >
			<listGrid continueConversation="true" query="qUserSubscriptions">
				<filterParameter operator="equal" name="receiverIdentifier" binding="currentUser.contact.email1"/>
			</listGrid>
		</tab>
	</tabPane>
	<actions>
		<action className="UpdateMyDetails" displayName="Save" toolTip="Save" relativeIconFileName="actions/Save.gif"
			iconStyleClass="fa fa-save"
			inActionPanel="false" />
	</actions>
</view>
