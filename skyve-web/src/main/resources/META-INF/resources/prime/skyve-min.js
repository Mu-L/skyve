SKYVE={};SKYVE.Util=function(){var a=window.location+"";a=a.substring(0,a.lastIndexOf("/")+1);var b=null;return{customer:null,v:null,googleMapsV3ApiKey:null,ckEditorConfigFileUrl:null,CONTEXT_URL:a,loadJS:function(d,f){var c=document.createElement("SCRIPT");c.type="text/javascript";c.src=d;if(f!=null){if(c.readyState){c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete"){c.onreadystatechange=null;f()}}}else{c.onload=f}}var e=document.getElementsByTagName("HEAD");if(e[0]!=null){e[0].appendChild(c)}},scatterGMap:function(u,E,r,g){if(!b){b=new Wkt.Wkt()}u._refreshing=false;var n=E.items;if(g){for(var k in u._objects){if(!n.containsProperty("bizId",k)){var A=u._objects[k];for(var w=0,s=A.overlays.length;w<s;w++){A.overlays[w].setMap(null);A.overlays[w]=null}delete A.overlays;delete u._objects[k]}}}else{for(var k in u._objects){var A=u._objects[k];for(var w=0,s=A.overlays.length;w<s;w++){A.overlays[w].setMap(null);A.overlays[w]=null}delete A.overlays;delete u._objects[k]}}for(var w=0,s=n.length;w<s;w++){var z=n[w];var F=u._objects[z.bizId];if(F){var t=(F.overlays.length==z.features.length);if(t){for(var v=0,q=F.overlays.length;v<q;v++){if(F.overlays[v].geometry!==z.features[v].geometry){t=false;break}}}if(!t){for(var v=0,q=F.overlays.length;v<q;v++){F.overlays[v].setMap(null);F.overlays[v]=null}delete F.overlays;delete u._objects[k];F=null}}if(F){}else{F={overlays:[]};for(var v=0,q=z.features.length;v<q;v++){var f=z.features[v];try{b.read(f.geometry)}catch(y){if(y.name==="WKTError"){alert(f.geometry+" is invalid WKT.");continue}}var d={editable:f.editable};if(f.strokeColour){d.strokeColor=f.strokeColour}if(f.fillColour){d.fillColor=f.fillColour}if(f.fillOpacity){d.fillOpacity=f.fillOpacity}if(f.iconDynamicImageName){d.icon={url:"image?_n="+f.iconDynamicImageName};if(f.iconAnchorX&&f.iconAnchorY){d.icon.anchor=new google.maps.Point(f.iconAnchorX,f.iconAnchorY);d.icon.origin=new google.maps.Point(0,0)}}var x=b.toObject(d);F.overlays.push(x);x.setMap(u.webmap);if(f.zoomable){x.bizId=z.bizId;x.geometry=f.geometry;x.fromTimestamp=z.fromTimestamp;x.toTimestamp=z.toTimestamp;x.mod=z.moduleName;x.doc=z.documentName;x.infoMarkup=z.infoMarkup;google.maps.event.addListener(x,"click",function(e){u.click(this,e)})}}u._objects[z.bizId]=F}}if(r){var h=new google.maps.LatLngBounds();var c=false;for(var p in u._objects){c=true;var F=u._objects[p];var D=F.overlays;for(var w=0,s=D.length;w<s;w++){var x=D[w];if(x.getPath){var o=x.getPath();for(var v=0,q=o.getLength();v<q;v++){h.extend(o.getAt(v))}}else{if(x.getPosition){h.extend(x.getPosition())}}}}if(c){if(h.getNorthEast().equals(h.getSouthWest())){var C=new google.maps.LatLng(h.getNorthEast().lat()+0.01,h.getNorthEast().lng()+0.01);var B=new google.maps.LatLng(h.getNorthEast().lat()-0.01,h.getNorthEast().lng()-0.01);h.extend(C);h.extend(B)}u.webmap.fitBounds(h)}}}}}();SKYVE.PF=function(){return{getById:function(a){return $(PrimeFaces.escapeClientId(a))},contentOverlayOnShow:function(b,a){SKYVE.PF.getById(b+"_iframe").attr("src",a)},contentOverlayOnHide:function(a){SKYVE.PF.getById(a+"_iframe").attr("src","")},afterContentUpload:function(b,e,d,c){top.$('[id$="_'+b+'"]').val(e);var a="content?_n="+e+"&_doc="+d+"&_b="+b.replace(/\_/g,".");top.$('[id$="_'+b+'_link"]').attr("href",a).text(c);top.$('[id$="_'+b+'_image"]').attr("src",a);top.PF(b+"Overlay").hide()},clearContentImage:function(a){$('[id$="_'+a+'"]').val("");$('[id$="_'+a+'_image"]').attr("src","images/blank.gif")},clearContentLink:function(a){$('[id$="_'+a+'"]').val("");$('[id$="_'+a+'_link"]').attr("href","javascript:void(0)").text("<Empty>")},getTextElement:function(a){return SKYVE.PF.getById(a)},getTextValue:function(a){return SKYVE.PF.getTextElement(a).val()},setTextValue:function(b,a){SKYVE.PF.getTextElement(b).val(a)},getPasswordElement:function(a){return SKYVE.PF.getById(a+"password")},getPasswordValue:function(a){return SKYVE.PF.getPasswordElement(a).val()},setPasswordValue:function(b,a){SKYVE.PF.getPasswordElement(b).val(a)},getComboElement:function(a){return SKYVE.PF.getById(a)},getLookupElement:function(a){return SKYVE.PF.getById(a)},getLookupValue:function(a){return SKYVE.PF.getById(a+"_hinput").val()},setLookupValue:function(b,a){SKYVE.PF.getById(b+"_hinput").val(a)},getLookupDescription:function(a){return SKYVE.PF.getById(a+"_input").val()},setLookupDescription:function(b,a){SKYVE.PF.getById(b+"_input").val(a)},getCheckboxElement:function(a){return SKYVE.PF.getById(a)},getCheckboxValue:function(b){var a=SKYVE.PF.getById(b+"_input").val();if(a=="0"){return null}else{if(a=="1"){return true}else{if(a=="2"){return false}else{return SKYVE.PF.getById(b+"_input").is(":checked")}}}},setCheckboxValue:function(e,a){SKYVE.PF.getById(e+"_input").prop("checked",a);var d=SKYVE.PF.getById(e);var c=d.find(".ui-chkbox-box");var b=c.find(".ui-chkbox-icon");if(a){c.addClass("ui-state-active");b.addClass("ui-icon ui-icon-check")}else{c.removeClass("ui-state-active");b.removeClass("ui-icon ui-icon-check")}},toggleFilters:function(a){var d="hiddenFilter";var c=$('[id$="'+a+'"]');if(c!=null){var b=function(){var e=$(this);if(e.hasClass(d)){e.removeClass(d)}else{e.addClass(d)}};c.find(".ui-filter-column").each(b);c.find(".ui-column-customfilter").each(b)}},onPushMessage:function(c){var e=[];for(var d=0,b=c.length;d<b;d++){var a=c[d];if(a.type=="g"){e.push({severity:a.severity,summary:a.message})}else{if(a.type=="m"){alert(a.message)}else{if(a.type=="r"){pushRerender()}else{if(a.type=="j"){window[a.method](a.argument)}}}}}if(e.length>0){PrimeFaces.cw("Growl","pushGrowl",{id:"pushGrowl",widgetVar:"pushGrowl",life:6000,sticky:false,msgs:e})}},gmap:function(a){if(window.google&&window.google.maps&&window.SKYVE.BizMap){return Skyve.BizMap.create(a)}SKYVE.Util.loadJS("wicket/wicket.js?v="+SKYVE.Util.v,function(){SKYVE.Util.loadJS("wicket/wicket-gmap3.js?v="+SKYVE.Util.v,function(){var b="https://maps.googleapis.com/maps/api/js?v=3&libraries=drawing";if(SKYVE.Util.googleMapsV3ApiKey){b+="&key="+SKYVE.Util.googleMapsV3ApiKey}SKYVE.Util.loadJS(b,function(){SKYVE.Util.loadJS("prime/skyve-gmap-min.js?v="+SKYVE.Util.v,function(){return SKYVE.BizMap.create(a)})})})})}}}();